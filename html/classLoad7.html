<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Zhangtejun.GitHub.io by zhangtejun</title>
    <link rel="stylesheet" href="../stylesheets/styles.css">
    <link rel="stylesheet" href="../stylesheets/github-dark.css">
    <script src="../javascripts/jquery.min.js"></script>
    <script src="../javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/zhangtejun">View On GitHub</a></li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">
        <section>
        <div style="float: left;overflow: hidden;width: 15%;margin-top: 70px;padding: 20px 20px;max-width: 250px;">
          <div>目录</div>
          <div style="list-style-type:none!important;">        
              <li>1，<a href="">README</a></li>
              <li><a href="">1，README</a></li>           
          </div>
        </div>
<div style="overflow: hidden;padding-left: 20px;width: 60%">

        <div id="title">
          <p>Java虚拟机学习（7）：对象内存分配与回收</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/zhangtejun">zhangtejun</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>
<h3>对象优先在Eden上分配</h3><p>大多数情况下，对象优先在新生代Eden区域中分配。当Eden内存区域没有足够的空间进行分配时，虚拟机将触发一次 Minor GC(新生代GC)。Minor GC期间虚拟机将Eden区域的对象移动到其中一块Survivor区域。</p>
<img src="../images/class7_1.jpg">
<h3>大对象直接进入老年代</h3><p>所谓大对象是指需要大量连续空间的对象。虚拟机提供了一个XX:PretenureSizeThreshold参数，令大于这个值的对象直接在老年代中分配。</p><h3>长期存活的对象将进入老年代</h3><p>虚拟机采用分代收集的思想管理内存，那内存回收时就必须能识别那些对象该放到新生代，那些该到老年代中。为了做到这点，虚拟机为每个对象定义了一个对象年龄Age，每经过一次新生代GC后任然存活，将对象的年龄Age增加1岁，当年龄到一定程度（默认为15）时，将会被晋升到老年代中，对象晋升老年代的年龄限定值，可通过-XX:MaxTenuringThreshold来设置。</p><h3>Minor GC 和Full GC区别</h3><p>新生代GC(Minor GC)：指发生在新生代的垃圾收集动作，因为对象大多都具备朝生夕灭特性，所以Minor GC非常频繁，回收速度也比较快。</p><p>老年代GC(Major GC / Full GC)：指发生在老年代中的GC，出现Major GC后，经常会伴随至少一次的 Minor GC。Major GC的速度一般会比Minor GC慢10倍以上。</p></div></section></div></body></html>