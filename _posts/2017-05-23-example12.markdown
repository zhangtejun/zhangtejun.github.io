---
analytics-location: '/&lt;user-name&gt;/&lt;repo-name&gt;/issues/show'
browser-errors-url: 'https://api.github.com/\_private/browser/errors'
browser-stats-url: 'https://api.github.com/\_private/browser/stats'
description: |
    Blog -
    å†´ç¾½å†™åšå®¢çš„åœ°æ–¹ï¼Œé¢„è®¡å†™å››ä¸ªç³»åˆ—ï¼šJavaScriptæ·±å…¥ç³»åˆ—ã€JavaScriptä¸“é¢˜ç³»åˆ—ã€ES6ç³»åˆ—ã€Reactç³»åˆ—ã€‚
dimension1: Logged Out
expected-hostname: 'github.com'
go-import: 'github.com/mqyqingfeng/Blog git https://github.com/mqyqingfeng/Blog.git'
google-analytics: 'UA-3769691-2'
google-site-verification:
- KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU
- 'ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA'
hostname: 'github.com'
html-safe-nonce: 3b8f6c4025c3668487eb64472b77f1918ab173da
js-proxy-site-detection-payload: MDkwNTdmY2JiNzQzZTc2YWI1MmE4ZWRlOWI3YTg4OWRhOGE3Mzc1OTgyYzRlOTY1NDMzMzRmYjM5ODFhZmFlOHx7InJlbW90ZV9hZGRyZXNzIjoiMTQwLjIwNy4xNjEuMjI3IiwicmVxdWVzdF9pZCI6IjJCQjA6MkU2OUY6MTY3RDI5OToyM0FBNDk4OjU5MjNBOTU5IiwidGltZXN0YW1wIjoxNDk1NTA5MzM4LCJob3N0IjoiZ2l0aHViLmNvbSJ9
octolytics-app-id: github
octolytics-dimension-repository_id: 84811466
octolytics-dimension-repository_is_fork: false
octolytics-dimension-repository_network_root_id: 84811466
octolytics-dimension-repository_network_root_nwo: 'mqyqingfeng/Blog'
octolytics-dimension-repository_nwo: 'mqyqingfeng/Blog'
octolytics-dimension-repository_public: true
octolytics-dimension-request_id: '2BB0:2E69F:167D299:23AA498:5923A959'
octolytics-dimension-user_id: 11458263
octolytics-dimension-user_login: mqyqingfeng
octolytics-event-url: 'https://collector.githubapp.com/github-external/browser\_event'
octolytics-host: 'collector.githubapp.com'
pjax-timeout: 1000
request-id: '2BB0:2E69F:167D299:23AA498:5923A959'
theme-color: '\#1e2327'
title: 'JavaScriptæ·±å…¥ä¹‹é—­åŒ… Â· Issue \#9 Â· mqyqingfeng/Blog Â· GitHub'
viewport: 'width=device-width'
---

<div class="position-relative js-header-wrapper">

[Skip to content](#start-of-content){.accessibility-aid
.js-skip-to-content}
<div id="js-pjax-loader-bar" class="pjax-loader-bar">

<div class="progress">

</div>

</div>

<div class="container-responsive">

<div class="site-header-menu">

[Features](/features){.js-selected-navigation-item .nav-item}
[Business](/business){.js-selected-navigation-item .nav-item}
[Explore](/explore){.js-selected-navigation-item .nav-item}
[Marketplace](/marketplace){.js-selected-navigation-item .nav-item}
[Pricing](/pricing){.js-selected-navigation-item .nav-item}
<div class="site-header-actions">

<div
class="header-search scoped-search site-scoped-search js-site-search"
role="search">

<div style="margin:0;padding:0;display:inline">

</div>

[This repository](/mqyqingfeng/Blog/issues/9){.header-search-scope
.no-underline}

</div>

[Sign
in](/login?return_to=%2Fmqyqingfeng%2FBlog%2Fissues%2F9){.text-bold
.site-header-link} [or]{.text-gray} [Sign
up](/join?source=header-repo){.text-bold .site-header-link}

</div>

</div>

</div>

</div>

<div id="start-of-content" class="accessibility-aid">

</div>

<div id="js-flash-container">

</div>

<div role="main">

<div itemscope="" itemtype="http://schema.org/SoftwareSourceCode">

<div id="js-repo-pjax-container" data-pjax-container="">

<div
class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav">

<div class="container repohead-details-container">

-   Watch [48](/mqyqingfeng/Blog/watchers){.social-count}
-   Star [249](/mqyqingfeng/Blog/stargazers){.social-count
    .js-social-count}
-   Fork [50](/mqyqingfeng/Blog/network){.social-count}

[[mqyqingfeng](/mqyqingfeng){.url .fn}]{.author itemprop="author"}[/]{.path-divider}**[Blog](/mqyqingfeng/Blog)** {#mqyqingfengblog .public}
=================================================================================================================

</div>

<div class="container">

[Code]{itemprop="name"}
[Issues]{itemprop="name"} [15]{.Counter}
[Pull requests]{itemprop="name"} [0]{.Counter}
Projects [0]{.Counter}
<div class="reponav-dropdown js-menu-container">

Insights
<div class="dropdown-menu-content js-menu-content">

<div class="dropdown-menu dropdown-menu-sw">

Pulse
Graphs

</div>

</div>

</div>

</div>

</div>

<div class="container new-discussion-timeline experiment-repo-nav">

<div class="repository-content">

<div class="issues-listing" data-pjax="">

<div id="show_issue" class="js-issues-results">

<div id="partial-discussion-header"
class="gh-header js-details-container Details js-socket-channel js-updatable-content issue"
data-channel="issue:224652149"
data-url="/mqyqingfeng/Blog/issues/9/show_partial?partial=issues%2Ftitle">

<div class="gh-header-show">

<div class="gh-header-actions">

[New issue](/mqyqingfeng/Blog/issues/new){.btn .btn-sm .btn-primary
.float-right}

</div>

[ JavaScriptæ·±å…¥ä¹‹é—­åŒ… ]{.js-issue-title} [\#9]{.gh-header-number} {#javascriptæ·±å…¥ä¹‹é—­åŒ…-9 .gh-header-title}
==================================================================

</div>

<div class="TableObject gh-header-meta">

<div class="TableObject-item">

<div class="State State--green">

Open

</div>

</div>

<div class="TableObject-item TableObject-item--primary">

[mqyqingfeng](/mqyqingfeng){.author} opened this [Issue]{.noun} Apr 27,
2017 Â· 6 comments

</div>

</div>

</div>

Comments {#comments .sr-only}
--------

<div id="discussion_bucket" class="clearfix">

<div class="discussion-sidebar">

<div id="partial-discussion-sidebar"
class="js-socket-channel js-updatable-content"
data-channel="issue:224652149"
data-url="/mqyqingfeng/Blog/issues/9/show_partial?partial=issues%2Fsidebar">

<div
class="discussion-sidebar-item sidebar-assignee js-discussion-sidebar-item">

<div style="margin:0;padding:0;display:inline">

</div>

<div class="discussion-sidebar-heading text-bold">

Assignees

</div>

[ No one assigned ]{.css-truncate}

</div>

<div
class="discussion-sidebar-item sidebar-labels js-discussion-sidebar-item">

<div style="margin:0;padding:0;display:inline">

</div>

<div class="discussion-sidebar-heading text-bold">

Labels

</div>

<div class="labels css-truncate">

[æ·±å…¥ç³»åˆ—](/mqyqingfeng/Blog/labels/%E6%B7%B1%E5%85%A5%E7%B3%BB%E5%88%97 "æ·±å…¥ç³»åˆ—"){.label
.css-truncate-target .linked-labelstyle-0e98a2}

</div>

</div>

<div class="discussion-sidebar-item js-discussion-sidebar-item">

<div style="margin:0;padding:0;display:inline">

</div>

<div class="discussion-sidebar-heading text-bold">

Projects

</div>

[ None yet ]{.css-truncate}

</div>

<div
class="discussion-sidebar-item sidebar-milestone js-discussion-sidebar-item">

<div style="margin:0;padding:0;display:inline">

</div>

<div class="discussion-sidebar-heading text-bold">

Milestone

</div>

No milestone

</div>

<div id="partial-users-participants" class="discussion-sidebar-item">

<div class="participation">

<div class="discussion-sidebar-heading text-bold">

5 participants

</div>

<div class="participation-avatars">

[![@mqyqingfeng](https://avatars1.githubusercontent.com/u/11458263?v=3&s=52){.avatar
width="26" height="26"}](/mqyqingfeng){.participant-avatar .tooltipped
.tooltipped-n}
[![@jawil](https://avatars1.githubusercontent.com/u/16515708?v=3&s=52){.avatar
width="26" height="26"}](/jawil){.participant-avatar .tooltipped
.tooltipped-n}
[![@zhouyu275596101](https://avatars3.githubusercontent.com/u/26214672?v=3&s=52){.avatar
width="26" height="26"}](/zhouyu275596101){.participant-avatar
.tooltipped .tooltipped-n}
[![@spicychocolate](https://avatars2.githubusercontent.com/u/22002601?v=3&s=52){.avatar
width="26" height="26"}](/spicychocolate){.participant-avatar
.tooltipped .tooltipped-n}
[![@fi3ework](https://avatars1.githubusercontent.com/u/12322740?v=3&s=52){.avatar
width="26" height="26"}](/fi3ework){.participant-avatar .tooltipped
.tooltipped-n}

</div>

</div>

</div>

</div>

</div>

<div class="discussion-timeline js-quote-selection-container">

<div class="js-discussion js-socket-channel"
data-channel="marked-as-read:issue:224652149">

<div class="timeline-comment-wrapper js-comment-container">

<div class="avatar-parent-child timeline-comment-avatar">

[![@mqyqingfeng](https://avatars2.githubusercontent.com/u/11458263?v=3&s=88){.avatar
.rounded-1 width="44" height="44"}](/mqyqingfeng)

</div>

<div id="issue-224652149"
class="comment previewable-edit timeline-comment js-comment js-task-list-container"
data-body-version="5cea3ed07020970a4b13220cfbc6a097">

<div class="timeline-comment-header">

<div class="timeline-comment-actions">

</div>

[ Owner ]{.timeline-comment-label .text-bold .tooltipped
.tooltipped-multiline .tooltipped-s
aria-label="This user is the owner of the Blog repository."}
### **[mqyqingfeng](/mqyqingfeng){.author}** commented [Apr 27, 2017](#issue-224652149){.timestamp} â€¢ [ edited ]{.timestamp .timestamp-edited .tooltipped .tooltipped-n aria-label="mqyqingfeng edited this issue about 20 hours ago"} {#mqyqingfeng-commented-apr-27-2017-edited .timeline-comment-header-text .f5 .text-normal}

</div>

<div class="edit-comment-hide">

+-----------------------------------------------------------------------+
| å®šä¹‰                                                                  |
| ----                                                                  |
|                                                                       |
| MDN å¯¹é—­åŒ…çš„å®šä¹‰ä¸ºï¼š                                                  |
|                                                                       |
| > é—­åŒ…æ˜¯æŒ‡é‚£äº›èƒ½å¤Ÿè®¿é—®è‡ªç”±å˜é‡çš„å‡½æ•°ã€‚                                |
|                                                                       |
| é‚£ä»€ä¹ˆæ˜¯è‡ªç”±å˜é‡å‘¢ï¼Ÿ                                                  |
|                                                                       |
| > è‡ªç”±å˜é‡æ˜¯æŒ‡åœ¨å‡½æ•°ä¸­ä½¿ç”¨çš„ï¼Œä½†æ—¢ä¸æ˜¯å‡½æ•°å‚æ•°ä¹Ÿä¸æ˜¯å‡½æ•°çš„å±€éƒ¨å˜é‡çš„å˜é‡ã€‚ |
|                                                                       |
|                                                                       |
| ç”±æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºé—­åŒ…å…±æœ‰ä¸¤éƒ¨åˆ†ç»„æˆï¼š                                |
|                                                                       |
| > é—­åŒ… = å‡½æ•° + å‡½æ•°èƒ½å¤Ÿè®¿é—®çš„è‡ªç”±å˜é‡                                |
|                                                                       |
| ä¸¾ä¸ªä¾‹å­ï¼š                                                            |
|                                                                       |
| <div class="highlight highlight-source-js">                           |
|                                                                       |
|     var a = 1;                                                        |
|                                                                       |
|     function foo() {                                                  |
|         console.log(a);                                               |
|     }                                                                 |
|                                                                       |
|     foo();                                                            |
|                                                                       |
| </div>                                                                |
|                                                                       |
| foo å‡½æ•°å¯ä»¥è®¿é—®å˜é‡ aï¼Œä½†æ˜¯ a æ—¢ä¸æ˜¯ foo å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œä¹Ÿä¸æ˜¯ foo  |
| å‡½æ•°çš„å‚æ•°ï¼Œæ‰€ä»¥ a å°±æ˜¯è‡ªç”±å˜é‡ã€‚                                     |
|                                                                       |
| é‚£ä¹ˆï¼Œå‡½æ•° foo + foo å‡½æ•°è®¿é—®çš„è‡ªç”±å˜é‡ a ä¸å°±æ˜¯æ„æˆäº†ä¸€ä¸ªé—­åŒ…å˜›â€¦â€¦    |
|                                                                       |
| è¿˜çœŸæ˜¯è¿™æ ·çš„ï¼                                                        |
|                                                                       |
| æ‰€ä»¥åœ¨ã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹ä¸­å°±è®²åˆ°ï¼šä»æŠ€æœ¯çš„è§’åº¦è®²ï¼Œæ‰€æœ‰çš„JavaScriptå‡½æ•°éƒ½æ˜¯é—­åŒ…ã€‚ |
|                                                                       |
|                                                                       |
| å’¦ï¼Œè¿™æ€ä¹ˆè·Ÿæˆ‘ä»¬å¹³æ—¶çœ‹åˆ°çš„è®²åˆ°çš„é—­åŒ…ä¸ä¸€æ ·å‘¢ï¼ï¼Ÿ                      |
|                                                                       |
| åˆ«ç€æ€¥ï¼Œè¿™æ˜¯ç†è®ºä¸Šçš„é—­åŒ…ï¼Œå…¶å®è¿˜æœ‰ä¸€ä¸ªå®è·µè§’åº¦ä¸Šçš„é—­åŒ…ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹æ±¤å§†å¤§å”ç¿»è¯‘çš„å…³äºé—­åŒ…çš„æ–‡ç« ä¸­çš„å®šä¹‰ï¼š |
|                                                                       |
|                                                                       |
| ECMAScriptä¸­ï¼Œé—­åŒ…æŒ‡çš„æ˜¯ï¼š                                            |
|                                                                       |
| 1.  ä»ç†è®ºè§’åº¦ï¼šæ‰€æœ‰çš„å‡½æ•°ã€‚å› ä¸ºå®ƒä»¬éƒ½åœ¨åˆ›å»ºçš„æ—¶å€™å°±å°†ä¸Šå±‚ä¸Šä¸‹æ–‡çš„æ•°æ®ä¿å­˜èµ·æ¥äº†ã€‚å“ªæ€•æ˜¯ç®€å•çš„å…¨å±€å˜é‡ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå› ä¸ºå‡½æ•°ä¸­è®¿é—®å…¨å±€å˜é‡ |
| å°±ç›¸å½“äºæ˜¯åœ¨è®¿é—®è‡ªç”±å˜é‡ï¼Œè¿™ä¸ªæ—¶å€™ä½¿ç”¨æœ€å¤–å±‚çš„ä½œç”¨åŸŸã€‚                |
| 2.  ä»å®è·µè§’åº¦ï¼šä»¥ä¸‹å‡½æ•°æ‰ç®—æ˜¯é—­åŒ…ï¼š                                  |
|     1.  å³ä½¿åˆ›å»ºå®ƒçš„ä¸Šä¸‹æ–‡å·²ç»é”€æ¯ï¼Œå®ƒä»ç„¶å­˜åœ¨ï¼ˆæ¯”å¦‚ï¼Œå†…éƒ¨å‡½æ•°ä»çˆ¶å‡½æ•°ä¸­è¿”å›ï¼‰ |
|                                                                       |
|     2.  åœ¨ä»£ç ä¸­å¼•ç”¨äº†è‡ªç”±å˜é‡                                        |
|                                                                       |
| æ¥ä¸‹æ¥å°±æ¥è®²è®²å®è·µä¸Šçš„é—­åŒ…ã€‚                                          |
|                                                                       |
| åˆ†æ                                                                  |
| ----                                                                  |
|                                                                       |
| è®©æˆ‘ä»¬å…ˆå†™ä¸ªä¾‹å­ï¼Œä¾‹å­ä¾ç„¶æ˜¯æ¥è‡ªã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹ï¼Œç¨å¾®åšç‚¹æ”¹åŠ¨ï¼š |
|                                                                       |
|                                                                       |
| <div class="highlight highlight-source-js">                           |
|                                                                       |
|     var scope = "global scope";                                       |
|     function checkscope(){                                            |
|         var scope = "local scope";                                    |
|         function f(){                                                 |
|             return scope;                                             |
|         }                                                             |
|         return f;                                                     |
|     }                                                                 |
|                                                                       |
|     var foo = checkscope();                                           |
|     foo();                                                            |
|                                                                       |
| </div>                                                                |
|                                                                       |
| é¦–å…ˆæˆ‘ä»¬è¦åˆ†æä¸€ä¸‹è¿™æ®µä»£ç ä¸­æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆå’Œæ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜åŒ–æƒ…å†µã€‚      |
|                                                                       |
| å¦ä¸€ä¸ªä¸è¿™æ®µä»£ç ç›¸ä¼¼çš„ä¾‹å­ï¼Œåœ¨[ã€ŠJavaScriptæ·±å…¥ä¹‹æ‰§è¡Œä¸Šä¸‹æ–‡ã€‹](https://github.com/mqyqingfeng/ |
| Blog/issues/8)ä¸­æœ‰ç€éå¸¸è¯¦ç»†çš„åˆ†æã€‚å¦‚æœçœ‹ä¸æ‡‚ä»¥ä¸‹çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œå»ºè®®å…ˆé˜…è¯»è¿™ç¯‡æ–‡ç« ã€‚ |
|                                                                       |
|                                                                       |
| è¿™é‡Œç›´æ¥ç»™å‡ºç®€è¦çš„æ‰§è¡Œè¿‡ç¨‹ï¼š                                          |
|                                                                       |
| 1.  è¿›å…¥å…¨å±€ä»£ç ï¼Œåˆ›å»ºå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ  |
| 2.  å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡åˆå§‹åŒ–                                              |
| 3.  æ‰§è¡Œ checkscope å‡½æ•°ï¼Œåˆ›å»º checkscope å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œcheckscope  |
|     æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ                                      |
| 4.  checkscope æ‰§è¡Œä¸Šä¸‹æ–‡åˆå§‹åŒ–ï¼Œåˆ›å»ºå˜é‡å¯¹è±¡ã€ä½œç”¨åŸŸé“¾ã€thisç­‰       |
| 5.  checkscope å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œcheckscope                               |
|     æ‰§è¡Œä¸Šä¸‹æ–‡ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­å¼¹å‡º                                    |
| 6.  æ‰§è¡Œ f å‡½æ•°ï¼Œåˆ›å»º f å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œf                             |
|     æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ                                      |
| 7.  f æ‰§è¡Œä¸Šä¸‹æ–‡åˆå§‹åŒ–ï¼Œåˆ›å»ºå˜é‡å¯¹è±¡ã€ä½œç”¨åŸŸé“¾ã€thisç­‰                |
| 8.  f å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œf å‡½æ•°ä¸Šä¸‹æ–‡ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­å¼¹å‡º                  |
|                                                                       |
| äº†è§£åˆ°è¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä»¬åº”è¯¥æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯ï¼š                        |
|                                                                       |
| å½“ f å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œcheckscope                                       |
| å‡½æ•°ä¸Šä¸‹æ–‡å·²ç»è¢«é”€æ¯äº†å•Š(å³ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­è¢«å¼¹å‡º)ï¼Œæ€ä¹ˆè¿˜ä¼šè¯»å–åˆ°    |
| checkscope ä½œç”¨åŸŸä¸‹çš„ scope å€¼å‘¢ï¼Ÿ                                    |
|                                                                       |
| ä»¥ä¸Šçš„ä»£ç ï¼Œè¦æ˜¯è½¬æ¢æˆ PHPï¼Œå°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºåœ¨ PHP ä¸­ï¼Œf                |
| å‡½æ•°åªèƒ½è¯»å–åˆ°è‡ªå·±ä½œç”¨åŸŸå’Œå…¨å±€ä½œç”¨åŸŸé‡Œçš„å€¼ï¼Œæ‰€ä»¥è¯»ä¸åˆ° checkscope     |
| ä¸‹çš„ scope å€¼ã€‚(è¿™æ®µæˆ‘é—®çš„PHPåŒäº‹â€¦â€¦)                                  |
|                                                                       |
| ç„¶è€Œ JavaScript å´æ˜¯å¯ä»¥çš„ï¼                                          |
|                                                                       |
| å½“æˆ‘ä»¬äº†è§£äº†å…·ä½“çš„æ‰§è¡Œè¿‡ç¨‹åï¼Œæˆ‘ä»¬çŸ¥é“ f                              |
| æ‰§è¡Œä¸Šä¸‹æ–‡ç»´æŠ¤äº†ä¸€ä¸ªä½œç”¨åŸŸé“¾ï¼š                                        |
|                                                                       |
| <div class="highlight highlight-source-js">                           |
|                                                                       |
|     fContext = {                                                      |
|         Scope: [AO, checkscopeContext.AO, globalContext.VO],          |
|     }                                                                 |
|                                                                       |
| </div>                                                                |
|                                                                       |
| å¯¹çš„ï¼Œå°±æ˜¯å› ä¸ºè¿™ä¸ªä½œç”¨åŸŸé“¾ï¼Œf å‡½æ•°ä¾ç„¶å¯ä»¥è¯»å–åˆ° checkscopeContext.AO |
| çš„å€¼ï¼Œè¯´æ˜å½“ f å‡½æ•°å¼•ç”¨äº† checkscopeContext.AO ä¸­çš„å€¼çš„æ—¶å€™ï¼Œå³ä½¿     |
| checkscopeContext è¢«é”€æ¯äº†ï¼Œä½†æ˜¯ JavaScript ä¾ç„¶ä¼šè®©                  |
| checkscopeContext.AO æ´»åœ¨å†…å­˜ä¸­ï¼Œf å‡½æ•°ä¾ç„¶å¯ä»¥é€šè¿‡ f                 |
| å‡½æ•°çš„ä½œç”¨åŸŸé“¾æ‰¾åˆ°å®ƒï¼Œæ­£æ˜¯å› ä¸º JavaScript                             |
| åšåˆ°äº†è¿™ä¸€ç‚¹ï¼Œä»è€Œå®ç°äº†é—­åŒ…è¿™ä¸ªæ¦‚å¿µã€‚                                |
|                                                                       |
| æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬å†çœ‹ä¸€éå®è·µè§’åº¦ä¸Šé—­åŒ…çš„å®šä¹‰ï¼š                            |
|                                                                       |
| 1.  å³ä½¿åˆ›å»ºå®ƒçš„ä¸Šä¸‹æ–‡å·²ç»é”€æ¯ï¼Œå®ƒä»ç„¶å­˜åœ¨ï¼ˆæ¯”å¦‚ï¼Œå†…éƒ¨å‡½æ•°ä»çˆ¶å‡½æ•°ä¸­è¿”å›ï¼‰ |
|                                                                       |
| 2.  åœ¨ä»£ç ä¸­å¼•ç”¨äº†è‡ªç”±å˜é‡                                            |
|                                                                       |
| åœ¨è¿™é‡Œå†è¡¥å……ä¸€ä¸ªã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹è‹±æ–‡åŸç‰ˆå¯¹é—­åŒ…çš„å®šä¹‰:           |
|                                                                       |
| > This combination of a function object and a scope (a set of         |
| > variable bindings) in which the functionâ€™s variables are resolved   |
| > is called a closure in the computer science literature.             |
|                                                                       |
| é—­åŒ…åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ä¹Ÿåªæ˜¯ä¸€ä¸ªæ™®é€šçš„æ¦‚å¿µï¼Œå¤§å®¶ä¸è¦å»æƒ³å¾—å¤ªå¤æ‚ã€‚        |
|                                                                       |
| å¿…åˆ·é¢˜                                                                |
| ------                                                                |
|                                                                       |
| æ¥ä¸‹æ¥ï¼Œçœ‹è¿™é“åˆ·é¢˜å¿…åˆ·ï¼Œé¢è¯•å¿…è€ƒçš„é—­åŒ…é¢˜ï¼š                            |
|                                                                       |
| <div class="highlight highlight-source-js">                           |
|                                                                       |
|     var data = [];                                                    |
|                                                                       |
|     for (var i = 0; i < 3; i++) {                                     |
|       data[i] = function () {                                         |
|         console.log(i);                                               |
|       };                                                              |
|     }                                                                 |
|                                                                       |
|     data[0]();                                                        |
|     data[1]();                                                        |
|     data[2]();                                                        |
|                                                                       |
| </div>                                                                |
|                                                                       |
| ç­”æ¡ˆæ˜¯éƒ½æ˜¯ 3ï¼Œè®©æˆ‘ä»¬åˆ†æä¸€ä¸‹åŸå› ï¼š                                    |
|                                                                       |
| å½“æ‰§è¡Œåˆ° data\[0\] å‡½æ•°ä¹‹å‰ï¼Œæ­¤æ—¶å…¨å±€ä¸Šä¸‹æ–‡çš„ VO ä¸ºï¼š                 |
|                                                                       |
| <div class="highlight highlight-source-js">                           |
|                                                                       |
|     globalContext = {                                                 |
|         VO: {                                                         |
|             data: [...],                                              |
|             i: 3                                                      |
|         }                                                             |
|     }                                                                 |
|                                                                       |
| </div>                                                                |
|                                                                       |
| å½“æ‰§è¡Œ data\[0\] å‡½æ•°çš„æ—¶å€™ï¼Œdata\[0\] å‡½æ•°çš„ä½œç”¨åŸŸé“¾ä¸ºï¼š             |
|                                                                       |
| <div class="highlight highlight-source-js">                           |
|                                                                       |
|     data[0]Context = {                                                |
|         Scope: [AO, globalContext.VO]                                 |
|     }                                                                 |
|                                                                       |
| </div>                                                                |
|                                                                       |
| data\[0\]Context çš„ AO å¹¶æ²¡æœ‰ i å€¼ï¼Œæ‰€ä»¥ä¼šä» globalContext.VO         |
| ä¸­æŸ¥æ‰¾ï¼Œi ä¸º 3ï¼Œæ‰€ä»¥æ‰“å°çš„ç»“æœå°±æ˜¯ 3ã€‚                                |
|                                                                       |
| data\[1\] å’Œ data\[2\] æ˜¯ä¸€æ ·çš„é“ç†ã€‚                                 |
|                                                                       |
| æ‰€ä»¥è®©æˆ‘ä»¬æ”¹æˆé—­åŒ…çœ‹çœ‹ï¼š                                              |
|                                                                       |
| <div class="highlight highlight-source-js">                           |
|                                                                       |
|     var data = [];                                                    |
|                                                                       |
|     for (var i = 0; i < 3; i++) {                                     |
|       data[i] = (function (i) {                                       |
|             return function(){                                        |
|                 console.log(i);                                       |
|             }                                                         |
|       })(i);                                                          |
|     }                                                                 |
|                                                                       |
|     data[0]();                                                        |
|     data[1]();                                                        |
|     data[2]();                                                        |
|                                                                       |
| </div>                                                                |
|                                                                       |
| å½“æ‰§è¡Œåˆ° data\[0\] å‡½æ•°ä¹‹å‰ï¼Œæ­¤æ—¶å…¨å±€ä¸Šä¸‹æ–‡çš„ VO ä¸ºï¼š                 |
|                                                                       |
| <div class="highlight highlight-source-js">                           |
|                                                                       |
|     globalContext = {                                                 |
|         VO: {                                                         |
|             data: [...],                                              |
|             i: 3                                                      |
|         }                                                             |
|     }                                                                 |
|                                                                       |
| </div>                                                                |
|                                                                       |
| è·Ÿæ²¡æ”¹ä¹‹å‰ä¸€æ¨¡ä¸€æ ·ã€‚                                                  |
|                                                                       |
| å½“æ‰§è¡Œ data\[0\] å‡½æ•°çš„æ—¶å€™ï¼Œdata\[0\] å‡½æ•°çš„ä½œç”¨åŸŸé“¾å‘ç”Ÿäº†æ”¹å˜ï¼š     |
|                                                                       |
| <div class="highlight highlight-source-js">                           |
|                                                                       |
|     data[0]Context = {                                                |
|         Scope: [AO, åŒ¿åå‡½æ•°Context.AO globalContext.VO]              |
|     }                                                                 |
|                                                                       |
| </div>                                                                |
|                                                                       |
| åŒ¿åå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡çš„AOä¸ºï¼š                                            |
|                                                                       |
| <div class="highlight highlight-source-js">                           |
|                                                                       |
|     åŒ¿åå‡½æ•°Context = {                                               |
|         AO: {                                                         |
|             arguments: {                                              |
|                 0: 0,                                                 |
|                 length: 1                                             |
|             },                                                        |
|             i: 0                                                      |
|         }                                                             |
|     }                                                                 |
|                                                                       |
| </div>                                                                |
|                                                                       |
| data\[0\]Context çš„ AO å¹¶æ²¡æœ‰ i å€¼ï¼Œæ‰€ä»¥ä¼šæ²¿ç€ä½œç”¨åŸŸé“¾ä»åŒ¿åå‡½æ•°      |
| Context.AO ä¸­æŸ¥æ‰¾ï¼Œè¿™æ—¶å€™å°±ä¼šæ‰¾ i ä¸º 0ï¼Œæ‰¾åˆ°äº†å°±ä¸ä¼šå¾€                |
| globalContext.VO ä¸­æŸ¥æ‰¾äº†ï¼Œå³ä½¿ globalContext.VO ä¹Ÿæœ‰ i               |
| çš„å€¼(å€¼ä¸º3)ï¼Œæ‰€ä»¥æ‰“å°çš„ç»“æœå°±æ˜¯0ã€‚                                    |
|                                                                       |
| data\[1\] å’Œ data\[2\] æ˜¯ä¸€æ ·çš„é“ç†ã€‚                                 |
|                                                                       |
| ä¸‹ä¸€ç¯‡æ–‡ç«                                                             |
| ----------                                                            |
|                                                                       |
| [JavaScriptæ·±å…¥ä¹‹å‚æ•°æŒ‰å€¼ä¼ é€’](https://github.com/mqyqingfeng/Blog/issues/10) |
|                                                                       |
|                                                                       |
| ç›¸å…³é“¾æ¥                                                              |
| --------                                                              |
|                                                                       |
| å¦‚æœæƒ³äº†è§£æ‰§è¡Œä¸Šä¸‹æ–‡çš„å…·ä½“å˜åŒ–ï¼Œä¸å¦¨å¾ªåºæ¸è¿›ï¼Œé˜…è¯»è¿™å…­ç¯‡ï¼š            |
|                                                                       |
| [ã€ŠJavaScriptæ·±å…¥ä¹‹è¯æ³•ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸã€‹](https://github.com/mqyqingfeng/Blog/issu |
| es/3)                                                                 |
|                                                                       |
| [ã€ŠJavaScriptæ·±å…¥ä¹‹æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆã€‹](https://github.com/mqyqingfeng/Blog/issues/4) |
|                                                                       |
|                                                                       |
| [ã€ŠJavaScriptæ·±å…¥ä¹‹å˜é‡å¯¹è±¡ã€‹](https://github.com/mqyqingfeng/Blog/issues/5) |
|                                                                       |
|                                                                       |
| [ã€ŠJavaScriptæ·±å…¥ä¹‹ä½œç”¨åŸŸé“¾ã€‹](https://github.com/mqyqingfeng/Blog/issues/6) |
|                                                                       |
|                                                                       |
| [ã€ŠJavaScriptæ·±å…¥ä¹‹ä»ECMAScriptè§„èŒƒè§£è¯»thisã€‹](https://github.com/mqyqingfeng/B |
| log/issues/7)                                                         |
|                                                                       |
| [ã€ŠJavaScriptæ·±å…¥ä¹‹æ‰§è¡Œä¸Šä¸‹æ–‡ã€‹](https://github.com/mqyqingfeng/Blog/issues/8) |
|                                                                       |
|                                                                       |
| æ·±å…¥ç³»åˆ—                                                              |
| --------                                                              |
|                                                                       |
| JavaScriptæ·±å…¥ç³»åˆ—ç›®å½•åœ°å€ï¼š<https://github.com/mqyqingfeng/Blog>ã€‚   |
|                                                                       |
| JavaScriptæ·±å…¥ç³»åˆ—é¢„è®¡å†™åäº”ç¯‡å·¦å³ï¼Œæ—¨åœ¨å¸®å¤§å®¶æ‹é¡ºJavaScriptåº•å±‚çŸ¥è¯†ï¼Œé‡ç‚¹è®²è§£å¦‚åŸå‹ã€ä½œç”¨åŸŸã€æ‰§è¡Œä¸Šä¸‹æ–‡ã€å˜é‡å¯¹è±¡ã€t |
| hisã€é—­åŒ…ã€æŒ‰å€¼ä¼ é€’ã€callã€applyã€bindã€newã€ç»§æ‰¿ç­‰éš¾ç‚¹æ¦‚å¿µã€‚         |
|                                                                       |
| å¦‚æœæœ‰é”™è¯¯æˆ–è€…ä¸ä¸¥è°¨çš„åœ°æ–¹ï¼Œè¯·åŠ¡å¿…ç»™äºˆæŒ‡æ­£ï¼Œååˆ†æ„Ÿè°¢ã€‚å¦‚æœå–œæ¬¢æˆ–è€…æœ‰æ‰€å¯å‘ï¼Œæ¬¢è¿starï¼Œå¯¹ä½œè€…ä¹Ÿæ˜¯ä¸€ç§é¼“åŠ±ã€‚ |
+-----------------------------------------------------------------------+

<div class="comment-reactions has-reactions js-reactions-container">

<div style="margin:0;padding:0;display:inline">

</div>

<div class="comment-reactions-options">

ğŸ‘ 1

</div>

</div>

</div>

</div>

</div>

<div class="discussion-item discussion-item-labeled">

### [ ]{.discussion-item-icon} ![](https://avatars3.githubusercontent.com/u/11458263?v=3&s=32){.avatar width="16" height="16"} [mqyqingfeng](/mqyqingfeng){.author} added the [[æ·±å…¥ç³»åˆ—](/mqyqingfeng/Blog/labels/%E6%B7%B1%E5%85%A5%E7%B3%BB%E5%88%97)]{.label-color style="background-color: #0e98a2;"} label [Apr 27, 2017](#event-1059682422){.timestamp} {#event-1059682422 .discussion-item-header .f5 .text-normal}

</div>

<div class="timeline-comment-wrapper js-comment-container">

<div class="avatar-parent-child timeline-comment-avatar">

[![@jawil](https://avatars2.githubusercontent.com/u/16515708?v=3&s=88){.avatar
.rounded-1 width="44" height="44"}](/jawil)

</div>

<div id="issuecomment-297635540"
class="comment previewable-edit timeline-comment js-comment js-task-list-container"
data-body-version="1b62da9c74d46bb6484063c156e876b2">

<div class="timeline-comment-header">

<div class="timeline-comment-actions">

</div>

### **[jawil](/jawil){.author}** commented [Apr 27, 2017](#issuecomment-297635540){.timestamp} {#jawil-commented-apr-27-2017 .timeline-comment-header-text .f5 .text-normal}

</div>

<div class="edit-comment-hide">

+-----------------------------------------------------------------------+
| æ”¯æŒä¸‹ä¸€å•Šï¼Œè™½ç„¶å¯¹é—­åŒ…å·²ç»çœ‹äº†å¾ˆå¤šäº†ï¼Œæ¯æ¬¡çœ‹ä¸€ééƒ½ä¼šæœ‰ä¸€ç•ªä¸åŒçš„æ„Ÿå—ï¼Œå­¦ä¹ å°±æ˜¯ä¸€ä¸ªé‡å¤çš„è¿‡ç¨‹ã€‚ |
+-----------------------------------------------------------------------+

<div class="comment-reactions has-reactions js-reactions-container">

<div style="margin:0;padding:0;display:inline">

</div>

<div class="comment-reactions-options">

ğŸ‘ 2

</div>

</div>

</div>

</div>

</div>

<div class="timeline-comment-wrapper js-comment-container">

<div class="avatar-parent-child timeline-comment-avatar">

[![@zhouyu275596101](https://avatars0.githubusercontent.com/u/26214672?v=3&s=88){.avatar
.rounded-1 width="44" height="44"}](/zhouyu275596101)

</div>

<div id="issuecomment-300398329"
class="comment previewable-edit timeline-comment js-comment js-task-list-container"
data-body-version="90a9b1bd5ca5efb2c0e9218df8057201">

<div class="timeline-comment-header">

<div class="timeline-comment-actions">

</div>

### **[zhouyu275596101](/zhouyu275596101){.author}** commented [May 10, 2017](#issuecomment-300398329){.timestamp} {#zhouyu275596101-commented-may-10-2017 .timeline-comment-header-text .f5 .text-normal}

</div>

<div class="edit-comment-hide">

+-----------------------------------------------------------------------+
| è¯·é—®ä¸‹å­¦é•¿ä¸ºä»€ä¹ˆglobalContext = {\                                    |
| VO: {\                                                                |
| data: \[...\],\                                                       |
| i: 3\                                                                 |
| }\                                                                    |
| }\                                                                    |
| è¿™é‡Œæ˜¯3ï¼Ÿï¼Ÿæ€ä¹ˆæ¥çš„ ä¸ºä»€ä¹ˆä¸æ˜¯0,1,2                                   |
+-----------------------------------------------------------------------+

<div class="comment-reactions js-reactions-container">

</div>

</div>

</div>

</div>

<div class="timeline-comment-wrapper js-comment-container">

<div class="avatar-parent-child timeline-comment-avatar">

[![@mqyqingfeng](https://avatars2.githubusercontent.com/u/11458263?v=3&s=88){.avatar
.rounded-1 width="44" height="44"}](/mqyqingfeng)

</div>

<div id="issuecomment-300399838"
class="comment previewable-edit timeline-comment js-comment js-task-list-container"
data-body-version="f8182634d2cacefd47fd51821acd2347">

<div class="timeline-comment-header">

<div class="timeline-comment-actions">

</div>

[ Owner ]{.timeline-comment-label .text-bold .tooltipped
.tooltipped-multiline .tooltipped-s
aria-label="This user is the owner of the Blog repository."}
### **[mqyqingfeng](/mqyqingfeng){.author}** commented [May 10, 2017](#issuecomment-300399838){.timestamp} {#mqyqingfeng-commented-may-10-2017 .timeline-comment-header-text .f5 .text-normal}

</div>

<div class="edit-comment-hide">

+-----------------------------------------------------------------------+
| å½“æ‰§è¡Œåˆ°data\[0\]å‡½æ•°çš„æ—¶å€™ï¼Œforå¾ªç¯å·²ç»æ‰§è¡Œå®Œäº†ï¼Œiæ˜¯å…¨å±€å˜é‡ï¼Œæ­¤æ—¶çš„å€¼ä¸º3ï¼Œä¸¾ä¸ªä¾‹å­ï¼š |
|                                                                       |
|                                                                       |
| <div class="highlight highlight-source-js">                           |
|                                                                       |
|     for (var i = 0; i < 3; i++) {}                                    |
|     console.log(i) // 3                                               |
|                                                                       |
| </div>                                                                |
+-----------------------------------------------------------------------+

<div class="comment-reactions js-reactions-container">

</div>

</div>

</div>

</div>

<div class="timeline-comment-wrapper js-comment-container">

<div class="avatar-parent-child timeline-comment-avatar">

[![@spicychocolate](https://avatars1.githubusercontent.com/u/22002601?v=3&s=88){.avatar
.rounded-1 width="44" height="44"}](/spicychocolate)

</div>

<div id="issuecomment-301011409"
class="comment previewable-edit timeline-comment js-comment js-task-list-container"
data-body-version="fd1a0987c1063bba3d0bfff6a4719a54">

<div class="timeline-comment-header">

<div class="timeline-comment-actions">

</div>

### **[spicychocolate](/spicychocolate){.author}** commented [May 12, 2017](#issuecomment-301011409){.timestamp} {#spicychocolate-commented-may-12-2017 .timeline-comment-header-text .f5 .text-normal}

</div>

<div class="edit-comment-hide">

+-----------------------------------------------------------------------+
| å¾ªç¯ç»“æŸå                                                            |
|                                                                       |
|     data[0] = function(){console.log(i)}                              |
|     data[1] = function(){console.log(i)}                              |
|     data[2] = function(){console.log(i)}                              |
|                                                                       |
| æ‰§è¡Œ`data[0]()`ï¼Œ`data[1]()`ï¼Œ`data[2]()`æ—¶ï¼Œ`i=3`,æ‰€ä»¥éƒ½æ‰“å°`3`\     |
| è¿™ä¸ªä¾‹å­çœ‹å®ŒNéåç»ˆäºçŸ¥é“åŸç†äº†                                       |
+-----------------------------------------------------------------------+

<div class="comment-reactions js-reactions-container">

</div>

</div>

</div>

</div>

<div class="timeline-comment-wrapper js-comment-container">

<div class="avatar-parent-child timeline-comment-avatar">

[![@fi3ework](https://avatars2.githubusercontent.com/u/12322740?v=3&s=88){.avatar
.rounded-1 width="44" height="44"}](/fi3ework)

</div>

<div id="issuecomment-303015613"
class="comment previewable-edit timeline-comment js-comment js-task-list-container"
data-body-version="8e674d47dadfe7676b87c04a5b20b728">

<div class="timeline-comment-header">

<div class="timeline-comment-actions">

</div>

### **[fi3ework](/fi3ework){.author}** commented [May 22, 2017](#issuecomment-303015613){.timestamp} {#fi3ework-commented-may-22-2017 .timeline-comment-header-text .f5 .text-normal}

</div>

<div class="edit-comment-hide">

+-----------------------------------------------------------------------+
|     åŒ¿åå‡½æ•°Context = {                                               |
|         AO: {                                                         |
|             arguments: {                                              |
|                 0: 1,                                                 |
|                 length: 1                                             |
|             },                                                        |
|             i: 0                                                      |
|         }                                                             |
|     }                                                                 |
|                                                                       |
| é‡Œé¢çš„`arguments`çš„`0:1`ä¸ºä»€ä¹ˆæ˜¯1å‘¢ï¼ŒæŒ‰æˆ‘çš„ç†è§£åº”è¯¥å’Œ`i`çš„å€¼ç›¸åŒï¼Œæ‰€ä»¥ä¸æ˜¯`0: 0`å— |
+-----------------------------------------------------------------------+

<div class="comment-reactions js-reactions-container">

</div>

</div>

</div>

</div>

<div class="timeline-comment-wrapper js-comment-container">

<div class="avatar-parent-child timeline-comment-avatar">

[![@mqyqingfeng](https://avatars2.githubusercontent.com/u/11458263?v=3&s=88){.avatar
.rounded-1 width="44" height="44"}](/mqyqingfeng)

</div>

<div id="issuecomment-303018125"
class="comment previewable-edit timeline-comment js-comment js-task-list-container"
data-body-version="1d34a8bed68847a5cfa3621076de2390">

<div class="timeline-comment-header">

<div class="timeline-comment-actions">

</div>

[ Owner ]{.timeline-comment-label .text-bold .tooltipped
.tooltipped-multiline .tooltipped-s
aria-label="This user is the owner of the Blog repository."}
### **[mqyqingfeng](/mqyqingfeng){.author}** commented [May 22, 2017](#issuecomment-303018125){.timestamp} {#mqyqingfeng-commented-may-22-2017 .timeline-comment-header-text .f5 .text-normal}

</div>

<div class="edit-comment-hide">

+-----------------------------------------------------------------------+
| [@fi3ework](https://github.com/fi3ework){.user-mention}               |
| å—¯ï¼Œè¿™é‡Œæ˜¯ç¬”è¯¯ï¼Œæ„Ÿè°¢æŒ‡å‡ºï¼Œo(ï¿£â–½ï¿£)ï½„                                    |
+-----------------------------------------------------------------------+

<div class="comment-reactions js-reactions-container">

</div>

</div>

</div>

</div>

<div id="partial-timeline-marker"
class="js-timeline-marker js-socket-channel js-updatable-content"
data-channel="issue:224652149"
data-url="/mqyqingfeng/Blog/issues/9/show_partial?partial=issues%2Ftimeline_marker&amp;since=1495437308"
data-last-modified="Mon, 22 May 2017 07:15:08 GMT">

<div style="margin:0;padding:0;display:inline">

</div>

</div>

</div>

<div class="discussion-timeline-actions">

<div class="flash flash-warn mt-3">

[Sign up for free](/join?source=comment-repo){.btn .btn-primary} **to
join this conversation on GitHub**. Already have an account? [Sign in to
comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fmqyqingfeng%2FBlog%2Fissues%2F9)

</div>

</div>

</div>

</div>

<div class="clear">

</div>

</div>

</div>

</div>

<div class="modal-backdrop js-touch-events">

</div>

</div>

</div>

</div>

</div>

<div class="container site-footer-container">

<div class="site-footer" role="contentinfo">

-   [Contact GitHub](https://github.com/contact)
-   [API](https://developer.github.com)
-   [Training](https://training.github.com)
-   [Shop](https://shop.github.com)
-   [Blog](https://github.com/blog)
-   [About](https://github.com/about)

<!-- -->

-   Â© 2017
    [GitHub]{title="0.24595s from github-fe-a93be76.cp1-iad.github.net"},
    Inc.
-   [Terms](https://github.com/site/terms)
-   [Privacy](https://github.com/site/privacy)
-   [Security](https://github.com/security)
-   [Status](https://status.github.com/)
-   [Help](https://help.github.com)

</div>

</div>

<div id="ajax-error-message"
class="ajax-error-message flash flash-error">

You can't perform that action at this time.

</div>

<div
class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner d-none">

[You signed in with another tab or window. [Reload]() to refresh your
session.]{.signed-in-tab-flash} [You signed out in another tab or
window. [Reload]() to refresh your session.]{.signed-out-tab-flash}

</div>

<div id="facebox" class="facebox" style="display:none;">

<div class="facebox-popup">

<div class="facebox-content" role="dialog"
aria-labelledby="facebox-header" aria-describedby="facebox-description">

</div>

</div>

</div>
